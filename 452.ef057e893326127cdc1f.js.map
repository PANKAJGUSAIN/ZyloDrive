{"version":3,"file":"452.ef057e893326127cdc1f.js","mappings":"mKAGA,MAAMA,EAAiB,CACnBC,MAAO,OACPC,OAAQ,QAGNC,EAAc,CAChBC,IAAK,QACLC,IAAK,SA2DT,EA7CqBC,KACjB,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAASN,IAC9BO,EAAcC,IAAmBF,EAAAA,EAAAA,UAAS,MA8BjD,OA5BAG,EAAAA,EAAAA,YAAU,KACN,MAAMC,EAAiBA,KACfC,UAAUC,aACVD,UAAUC,YAAYC,oBACjBC,IACG,MAAM,SAAEC,EAAQ,UAAEC,GAAcF,EAASG,OApBvCC,IAACjB,EAAKC,IAqBwBc,GArB7Bf,EAqBmBc,IAjB/B,KAIwBd,GALxB,MAKoDC,GAHrD,MAGgFA,GAFhF,QAgBcG,EAAU,CAAEJ,IAAKc,EAAUb,IAAKc,IAChCR,EAAgB,CAAEP,IAAKc,EAAUb,IAAKc,IAC1C,IAEHG,IACyD,GAGlE,EAIJT,IAGA,MAAMU,EAAaC,YAAYX,EAAgB,KAG/C,MAAO,IAAMY,cAAcF,EAAW,GACvC,KAGCG,EAAAA,EAAAA,KAACC,EAAAA,GAAU,CAACC,iBAAkBC,0CAA8BC,UACxDJ,EAAAA,EAAAA,KAACK,EAAAA,GAAS,CACNC,kBAAmBhC,EACnBO,OAAQA,EACR0B,KAAM,GAAGH,SAERpB,IAAgBgB,EAAAA,EAAAA,KAACQ,EAAAA,GAAM,CAACjB,SAAUP,OAE9B,C","sources":["webpack://frontend/./src/components/LiveTracking/LiveTracking.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst containerStyle = {\r\n    width: '100%',\r\n    height: '100%'\r\n};\r\n\r\nconst indiaCenter = {\r\n    lat: 20.5937,\r\n    lng: 78.9629\r\n};\r\n\r\nconst isLocationInIndia = (lat, lng) => {\r\n    // Rough bounding box for India\r\n    const indiaBounds = {\r\n        north: 37.6,\r\n        south: 6.7,\r\n        west: 68.7,\r\n        east: 97.25\r\n    };\r\n    return lat >= indiaBounds.south && lat <= indiaBounds.north && lng >= indiaBounds.west && lng <= indiaBounds.east;\r\n};\r\n\r\nconst LiveTracking = () => {\r\n    const [center, setCenter] = useState(indiaCenter);\r\n    const [userLocation, setUserLocation] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const updateLocation = () => {\r\n            if (navigator.geolocation) {\r\n                navigator.geolocation.getCurrentPosition(\r\n                    (position) => {\r\n                        const { latitude, longitude } = position.coords;\r\n                        if (isLocationInIndia(latitude, longitude)) {\r\n                            setCenter({ lat: latitude, lng: longitude });\r\n                            setUserLocation({ lat: latitude, lng: longitude });\r\n                        }\r\n                    },\r\n                    (error) => {\r\n                        console.error(\"Error getting user's location:\", error);\r\n                    }\r\n                );\r\n            }\r\n        };\r\n\r\n        // Initial location update\r\n        updateLocation();\r\n\r\n        // Update location every 10 seconds\r\n        const intervalId = setInterval(updateLocation, 10000);\r\n\r\n        // Clean up interval on component unmount\r\n        return () => clearInterval(intervalId);\r\n    }, []);\r\n\r\n    return (\r\n        <LoadScript googleMapsApiKey={process.env.REACT_APP_MAP_KEY}>\r\n            <GoogleMap\r\n                mapContainerStyle={containerStyle}\r\n                center={center}\r\n                zoom={10}\r\n            >\r\n                {userLocation && <Marker position={userLocation} />}\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    );\r\n}\r\n\r\nexport default LiveTracking;"],"names":["containerStyle","width","height","indiaCenter","lat","lng","LiveTracking","center","setCenter","useState","userLocation","setUserLocation","useEffect","updateLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","isLocationInIndia","error","intervalId","setInterval","clearInterval","_jsx","LoadScript","googleMapsApiKey","process","children","GoogleMap","mapContainerStyle","zoom","Marker"],"sourceRoot":""}