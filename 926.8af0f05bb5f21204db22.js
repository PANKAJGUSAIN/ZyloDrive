"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[926],{8926:(a,t,e)=>{e.r(t),e.d(t,{default:()=>c});var n=e(1083),s=e(6540),i=e(181),o=e(5677),l=e(4848);const c=()=>{const{changeCaptainData:a}=(0,s.useContext)(o.S),t=sessionStorage.getItem("zylotoken"),[e,c]=(0,s.useState)(!0),r=(0,i.Zp)(),h=(0,i.zy)();return(0,s.useEffect)((()=>{null===t?(r("/captain-login"),c(!1)):n.A.post("http://localhost:3000/captains/profile",{},{headers:{Authorization:`Bearer ${t}`}}).then((t=>{const e={_id:t.data._id,email:t.data.email,fullname:t.data.fullname,status:t.data.status,vehicle:t.data.vehicle};a(e),"/captain-login"===h.pathname||"/captain-signup"===h.pathname?r("/captain-home"):r(h.pathname),c(!1)})).catch((a=>{sessionStorage.removeItem("zylotoken"),r("/captain-login"),c(!1)}))}),[t]),(0,l.jsx)(l.Fragment,{children:e?(0,l.jsx)(l.Fragment,{children:"Loading....."}):(0,l.jsx)(i.sv,{})})}}}]);
//# sourceMappingURL=926.8af0f05bb5f21204db22.js.map