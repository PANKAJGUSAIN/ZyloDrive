{"version":3,"file":"105.6161b8cc957bf38ffac6.js","mappings":"oNAUA,MA6EA,EA7EgCA,IAC5B,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAaC,EAAAA,EAAAA,WACZC,EAAQC,IAAaC,EAAAA,EAAAA,WAAS,IAC7BC,YAAaC,IAASC,EAAAA,EAAAA,YAAWC,EAAAA,IACnC,aAAEC,EAAY,YAAEC,EAAW,gBAAEC,IAAoBJ,EAAAA,EAAAA,YAAWK,EAAAA,GAC5DC,EAAsC,4BAAtBC,SAASC,SAEzBC,EAAoBA,KACtB,GAAIhB,EAAWiB,QAAS,CACpB,MAAMC,EAAiE,SAAtDlB,EAAWiB,QAAQE,aAAa,kBACjDnB,EAAWiB,QAAQG,aAAa,kBAAmBF,EACvD,GAGEG,EAAsBC,IACpBtB,EAAWiB,UAAYjB,EAAWiB,QAAQM,SAASD,EAAME,SACzDxB,EAAWiB,QAAQG,aAAa,iBAAkB,QACtD,EAiBJ,OARAK,EAAAA,EAAAA,YAAU,KACNC,SAASC,iBAAiB,YAAaN,GAChC,KACHK,SAASE,oBAAoB,YAAaP,EAAmB,IAElE,KAICQ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOC,gBAAgBC,SAAA,EACnCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAOI,MAAO,CAAEC,OAAQ,WAAaC,QAASA,IAAMtC,EAAS,KAAKmC,SAAA,EAC7EI,EAAAA,EAAAA,KAACC,EAAAA,EAAI,KACLD,EAAAA,EAAAA,KAAA,KAAAJ,SAAG,kBAGPJ,EAAAA,EAAAA,MAAA,OACIU,MAAM,kBACNH,QAASA,KACDvB,GACAhB,EAAM2C,cAAa,EACvB,EAEJC,SAAU,EACVP,MAAO,CAAEC,OAAQ,UAAWO,gBAAiB,iCAAkCC,MAAO,OAAQC,OAAQ,MAAOC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,SAAUC,UAAW,SAAUC,SAAU,OAAQC,IAAK,OAAQC,QAAS,SAAUC,aAAc,MAAOC,WAAY,MAAOC,MAAO,4BAA6BrB,SAAA,CACpU,cACaI,EAAAA,EAAAA,KAACkB,EAAAA,EAAe,CAACC,KAAMC,EAAAA,IAAQvB,MAAO,CAAEwB,KAAM,MAAOC,OAAQ,MAAOL,MAAO,aAEzFjB,EAAAA,EAAAA,KAAA,OAAKE,MAAM,eAAeE,SAAU,EAAGmB,UAjCvBtC,IACF,UAAdA,EAAMuC,KACN7C,GACJ,EA8BsEoB,QAASA,KAAQpB,GAAmB,EAAIc,UAAWC,EAAAA,EAAO+B,SAAS7B,UACjII,EAAAA,EAAAA,KAACkB,EAAAA,EAAe,CAACC,KAAMO,EAAAA,IAAQ7B,MAAO,CAAEoB,MAAO,2BAA6BU,KAAK,UAErF3B,EAAAA,EAAAA,KAAA,OAAKP,UAAWC,EAAAA,EAAOkC,iBAAkB,iBAAe,QAAQC,IAAKlE,EAAWiC,UAC5EJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOoC,eAAelC,SAAA,EAClCJ,EAAAA,EAAAA,MAAA,KAAGK,MAAO,CAAEe,SAAU,QAAShB,SAAA,CAAC,WAAS3B,EAAK8D,SAASC,cACvDhC,EAAAA,EAAAA,KAAA,OAAKP,UAAWC,EAAAA,EAAOuC,QACvBzC,EAAAA,EAAAA,MAAA,OAAKK,MAAO,CAAEW,QAAS,OAAQC,WAAY,SAAUI,IAAK,QAASjB,SAAA,EAC/DI,EAAAA,EAAAA,KAAA,SAAOkC,QAAQ,cAAcrC,MAAO,CAAEe,SAAU,QAAShB,SAAC,WAC1DI,EAAAA,EAAAA,KAAA,UAAQmC,GAAG,cAAcC,KAAK,cAAc3C,UAAWC,EAAAA,EAAO2C,YAAaC,MAAOlE,EAAcmE,SAAWC,GAAMnE,EAAYmE,EAAErD,OAAOmD,OAAO1C,SAErItB,EAAgBmE,KAAI,CAACC,EAAOC,KAAU3C,EAAAA,EAAAA,KAAA,UAAoBsC,MAAOI,EAAM9C,SAAE8C,GAAtBC,WAI/D3C,EAAAA,EAAAA,KAAA,UAAQP,UAAWC,EAAAA,EAAOkD,YAAaC,KAAK,SAAS9C,QAASA,KAAQtC,EAAS,oBAAqBK,GAAWD,EAAO,EAAIiF,SAAUjF,EAAO+B,SAAE,kBAInJ,C,iFChFd,MAAMmD,EAAiB,CACnBzC,MAAO,OACPC,OAAQ,QAGNyC,EAAc,CAChBC,IAAK,QACLC,IAAK,SA2DT,EA7CqBC,KACjB,MAAOC,EAAQC,IAAatF,EAAAA,EAAAA,UAASiF,IAC9BM,EAAcC,IAAmBxF,EAAAA,EAAAA,UAAS,MA8BjD,OA5BAqB,EAAAA,EAAAA,YAAU,KACN,MAAMoE,EAAiBA,KACfC,UAAUC,aACVD,UAAUC,YAAYC,oBACjBC,IACG,MAAM,SAAEC,EAAQ,UAAEC,GAAcF,EAASG,OApBvCC,IAACf,EAAKC,IAqBwBY,GArB7Bb,EAqBmBY,IAjB/B,KAIwBZ,GALxB,MAKoDC,GAHrD,MAGgFA,GAFhF,QAgBcG,EAAU,CAAEJ,IAAKY,EAAUX,IAAKY,IAChCP,EAAgB,CAAEN,IAAKY,EAAUX,IAAKY,IAC1C,IAEHG,IACyD,GAGlE,EAIJT,IAGA,MAAMU,EAAaC,YAAYX,EAAgB,KAG/C,MAAO,IAAMY,cAAcF,EAAW,GACvC,KAGClE,EAAAA,EAAAA,KAACqE,EAAAA,GAAU,CAACC,iBAAkBC,0CAA8B3E,UACxDI,EAAAA,EAAAA,KAACwE,EAAAA,GAAS,CACNC,kBAAmB1B,EACnBK,OAAQA,EACRsB,KAAM,GAAG9E,SAER0D,IAAgBtD,EAAAA,EAAAA,KAAC2E,EAAAA,GAAM,CAACf,SAAUN,OAE9B,C,kCChErB,QAAgC,uBAAhC,EAAsE,uB,cCAtE,MAUA,EAVgB9F,IACZ,MAAM,KAAEqF,EAAI,SAACjD,KAAcgF,GAAQpH,EACnC,OACIwC,EAAAA,EAAAA,KAAA,OAAKP,UAAW,GAAGC,IAAuBE,UACtCI,EAAAA,EAAAA,KAAA,UAAQP,UAAWC,EAAqBmD,KAAMA,KAAU+B,EAAIhF,SACvDA,KAEH,C,gDCRd,MAuBA,EAvBaK,KACXT,EAAAA,EAAAA,MAAA,OACEqF,QAAQ,MACR1C,GAAG,0BACH2C,MAAM,6BACNC,WAAW,+BACXzE,MAAM,OACNC,OAAO,OACPyE,QAAQ,YACRC,SAAS,WAAUrF,SAAA,EAEnBI,EAAAA,EAAAA,KAAA,SAAO6C,KAAK,WAAUjD,SACnB,sDAIHI,EAAAA,EAAAA,KAAA,QACEP,UAAU,aACVyF,EAAE,yG,8GCjBR,QAAgC,uBAAhC,EAAuE,uBAAvE,EAA2G,uBAA3G,EAA6I,uBAA7I,EAAqL,uBAArL,EAAwN,uBAAxN,EAA0P,uB,qDCQ1P,MAiGA,EAjGcC,IAAwE,IAAvE,OAAEC,EAAM,QAAEC,EAAO,KAAEpH,EAAI,oBAAEqH,GAAsB,EAAK,WAAEC,GAAYJ,EAC7E,MAAM1H,GAAWC,EAAAA,EAAAA,OACV8H,EAAUC,IAAe1H,EAAAA,EAAAA,UAAS,KACnC,YAAEC,IAAgBE,EAAAA,EAAAA,YAAWC,EAAAA,IAC5B2E,EAAU4C,IAAiB3H,EAAAA,EAAAA,WAAS,GAM3C,IAJAqB,EAAAA,EAAAA,YAAU,KACNqG,EAAYxH,EAAK,GAClB,CAACA,KAECmH,EAAQ,OAAO,KAuCpB,OACIpF,EAAAA,EAAAA,KAAA,OAAKP,UAAWI,EAAwBE,QArCjB4F,KACnBL,GAEAD,GACJ,EAiCoEzF,UAChEJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWI,EAAwBE,QAAUyC,GAAMA,EAAEoD,kBAAkBhG,SAAA,EACxEI,EAAAA,EAAAA,KAAA,OAAKH,MAAO,CAAEW,QAAS,OAAQE,eAAgB,OAAQd,UAACI,EAAAA,EAAAA,KAACkB,EAAAA,EAAe,CAAChB,MAAM,cAAcE,SAAU,EAAGP,MAAO,CAAEU,OAAQ,OAAQD,MAAO,QAAUa,KAAM0E,EAAAA,IAAS9F,QAASsF,MAC3KG,EAASM,OAAS,EAAI7H,EAAKwE,KAAI,CAACsD,EAAMpD,KACnC3C,EAAAA,EAAAA,KAAA,OAAiBP,UAAWI,EAAoBD,UAC5CJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACIJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWI,EAAeD,SAAA,EAC3BI,EAAAA,EAAAA,KAAA,MAAAJ,SACKmG,EAAKC,KAAKjE,SAASC,aAExBhC,EAAAA,EAAAA,KAAA,MAAAJ,SAAI,cAERJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOuG,oBAAoBrG,SAAA,EACvCI,EAAAA,EAAAA,KAACkB,EAAAA,EAAe,CAACC,KAAM+E,EAAAA,IAAerG,MAAO,CAAEoB,MAAO,wBACtDjB,EAAAA,EAAAA,KAAA,MAAAJ,SAAKmG,GAAMI,aAEfnG,EAAAA,EAAAA,KAAA,OAAKP,UAAWC,EAAAA,EAAO0G,kBAEvB5G,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOuG,oBAAoBrG,SAAA,EACvCI,EAAAA,EAAAA,KAACkB,EAAAA,EAAe,CAACC,KAAMkF,EAAAA,IAAOxG,MAAO,CAAEoB,MAAO,wBAC9CjB,EAAAA,EAAAA,KAAA,MAAAJ,SAAKmG,GAAMO,kBAEftG,EAAAA,EAAAA,KAAA,OAAKP,UAAWC,EAAAA,EAAO0G,kBAEvBpG,EAAAA,EAAAA,KAAA,OAAKP,UAAWC,EAAAA,EAAOuG,oBAAoBrG,UACvCI,EAAAA,EAAAA,KAAA,MAAAJ,SAAK,KAAUmG,EAAKQ,YAExBvG,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAAC3G,MAAO,CAAEQ,gBAAiB,SAAWN,QAASA,IA9CrD0G,WACrBf,GAAc,GACd,MAAMgB,QAAeC,MAAM,8CAAkD,CACzEC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChBC,cAAe,UAAUC,eAAeC,QAAQ,gBAEpDC,KAAMC,KAAKC,UAAU,CAAEC,OAAQjF,EAAIkF,UAAWrJ,EAAYsJ,QAExDC,QAAiBb,EAAOc,OAC9BnC,IACAE,EAAWpD,GACXuD,GAAc,GACdjI,EAAS,6BAA8B,CAAEgK,MAAO,CAAExJ,KAAMsJ,IACnC,EA+B2DG,CAAiB3B,EAAKuB,KAAMxE,SAAUA,EAASlD,SAAEkD,EAAW,cAAgB,YACxI9C,EAAAA,EAAAA,KAACwG,EAAAA,EAAM,CAAC3G,MAAO,CAAEQ,gBAAiB,OAASN,QAASA,KAAM4H,OA1DxDxF,EA0DyE4D,EAAKuB,SAzD7E,GAAnB9B,EAASM,QACTP,EAAWpD,GACXkD,KAGAE,EAAWpD,IANOA,KA0DmF,EAAAvC,SAAE,gBAxBrF+C,MA4BVnD,EAAAA,EAAAA,MAAA,OAAKC,UAAWI,EAAqBD,SAAA,EACjCI,EAAAA,EAAAA,KAAA,QAAAJ,SAAM,uBACNJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWI,EAAgBD,SAAA,EAC5BI,EAAAA,EAAAA,KAAA,OAAKP,UAAWI,KAChBG,EAAAA,EAAAA,KAAA,OAAKP,UAAWI,KAChBG,EAAAA,EAAAA,KAAA,OAAKP,UAAWI,cAK9B,E,cC3Fd,MAAM+H,GAAwBC,EAAAA,EAAAA,OAAK,IAAM,gCACnCC,GAAqBD,EAAAA,EAAAA,OAAK,IAAK,gCA4FrC,EA1FiBE,MACIrK,EAAAA,EAAAA,OACME,EAAAA,EAAAA,QAAO,MAD9B,MAEQI,YAAaC,IAASC,EAAAA,EAAAA,YAAWC,EAAAA,IACnC,OAAE6J,EAAM,YAAEC,EAAW,eAAEC,IAAmBhK,EAAAA,EAAAA,YAAWiK,EAAAA,IACpDC,EAAUC,IAAetK,EAAAA,EAAAA,UAAS,KAClCuK,EAAWnI,IAAgBpC,EAAAA,EAAAA,WAAS,GAIrCyF,EAAiBA,KAEfC,UAAUC,aACVD,UAAUC,YAAYC,oBAAoBC,IACtCqE,EAAY,0BACR,CACIM,OAAQtK,EAAKqJ,IACb7I,SAAU,CACN+J,IAAK5E,EAASG,OAAOF,SACrBX,IAAKU,EAASG,OAAOD,YAGhC,IACDG,IACkB,GAE1B,GAIJ7E,EAAAA,EAAAA,YAAU,KAEN6I,EAAY,OAAQ,CAAEQ,SAAU,UAAWF,OAAQtK,EAAKqJ,MAGxD,MAAMoB,EAAWvE,aAAY,KACzBX,GAAgB,GACjB,KAEHA,IAEA,MAAMmF,EAAiB1K,IAEnBoK,GAAaO,GAAS,IAAIA,EAAM3K,IAAM,EAM1C,OAHA+J,EAAOa,GAAG,WAAYF,GAGf,KAEPvE,cAAcsE,GACdV,EAAOc,IAAI,WAAYH,EAAc,CACpC,GAEF,IASH,OACInJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAOqJ,mBAAmBnJ,SAAA,EACtCI,EAAAA,EAAAA,KAACgJ,EAAAA,EAAsB,CAAC7I,aAAcA,KACtCH,EAAAA,EAAAA,KAACiJ,EAAK,CACF7D,OAAQkD,EACRjD,QAASA,KAAQlF,GAAa,EAAM,EACpCoF,WAbSpD,IACjBkG,GAAaO,GAASA,EAAKM,QAAOC,GAAQA,EAAK7B,MAAQnF,KAAI,EAanDlE,KAAMmK,GAAY,GAClB9C,qBAAqB,KAEzB9F,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,EAAO0J,mBAAmBxJ,SAAA,EACtCI,EAAAA,EAAAA,KAAA,OAAKP,UAAWC,EAAAA,EAAO2J,kBAAkBzJ,UACrCI,EAAAA,EAAAA,KAACmD,EAAAA,QAAY,OAEjBnD,EAAAA,EAAAA,KAACsJ,EAAAA,SAAQ,CAACC,UAAUvJ,EAAAA,EAAAA,KAAAwJ,EAAAA,SAAA,CAAA5J,SAAE,8BAA6BA,UAC/CJ,EAAAA,EAAAA,MAACiK,EAAAA,GAAM,CAAA7J,SAAA,EACHI,EAAAA,EAAAA,KAAC0J,EAAAA,GAAK,CAACC,KAAK,IAAIC,SAAS5J,EAAAA,EAAAA,KAAC4H,EAAqB,OAC/C5H,EAAAA,EAAAA,KAAC0J,EAAAA,GAAK,CAACC,KAAK,gBAAgBC,SAAS5J,EAAAA,EAAAA,KAAC8H,EAAkB,YAGhE9H,EAAAA,EAAAA,KAAC6J,EAAAA,GAAM,SAET,C,kCClGd,SAAgB,gBAAkB,uBAAuB,SAAW,uBAAuB,iBAAmB,uBAAuB,eAAiB,uBAAuB,KAAO,uBAAuB,YAAc,uBAAuB,YAAc,uB,kCCA9P,SAAgB,2BAA6B,uBAAuB,kBAAoB,uBAAuB,QAAU,uBAAuB,yBAA2B,uBAAuB,MAAQ,uBAAuB,eAAiB,uBAAuB,oBAAsB,uB,kCCA/R,SAAgB,mBAAqB,uBAAuB,mBAAqB,uBAAuB,kBAAoB,uBAAuB,oBAAsB,uB","sources":["webpack://frontend/./src/components/CaptainHeader/CaptainHeader.jsx","webpack://frontend/./src/components/LiveTracking/LiveTracking.jsx","webpack://frontend/./src/components/button/button.module.scss?cc99","webpack://frontend/./src/components/button/button.jsx","webpack://frontend/./src/components/svgs/logo.jsx","webpack://frontend/./src/components/Modal/Modal.module.scss?feae","webpack://frontend/./src/components/Modal/Modal.jsx","webpack://frontend/./src/pages/CaptainHome/CaptainHome.jsx","webpack://frontend/./src/components/Header/Header.module.scss?def5","webpack://frontend/./src/components/RideLookout/RideLookout.module.scss?9ef6","webpack://frontend/./src/pages/CaptainHome/CaptainHome.module.scss?a806"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport Logo from \"../svgs/logo\";\r\nimport styles from \"../Header/Header.module.scss\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBell, faUser } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { ThemeContext } from \"../../Context/ThemeContext\";\r\nimport { CaptainContext } from \"../../Context/CaptainContext\";\r\n// import Button from \"../button/button\";\r\n\r\nconst ZyloDriveCaptainHeader = (props) => {\r\n    const navigate = useNavigate();\r\n    const profileRef = useRef();\r\n    const [logout, setlogout] = useState(false);\r\n    const { captaindata: data } = useContext(CaptainContext)\r\n    const { currentTheme, changeTheme, AvaliableThemes } = useContext(ThemeContext)\r\n    const isCaptainHome = location.pathname === '/ZyloDrive/captain-home';\r\n\r\n    const handleProfileView = () => {\r\n        if (profileRef.current) {\r\n            const isActive = profileRef.current.getAttribute('data-userclick') === \"true\";\r\n            profileRef.current.setAttribute('data-userclick', !isActive);\r\n        }\r\n    }\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (profileRef.current && !profileRef.current.contains(event.target)) {\r\n            profileRef.current.setAttribute('data-userclick', 'false');\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (event) => {\r\n        if (event.key === 'Enter') {\r\n            handleProfileView();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div className={styles.zyloDriveheader}>\r\n            <div className=\"logo\" style={{ cursor: \"pointer\" }} onClick={() => navigate('/')}>\r\n                <Logo />\r\n                <p>ZyloDrive</p>\r\n\r\n            </div>\r\n            <div\r\n                title=\"Avaliable Rides\"\r\n                onClick={() => {\r\n                    if (isCaptainHome) {\r\n                        props.setOpenModal(true);\r\n                    }\r\n                }} \r\n                tabIndex={0} \r\n                style={{ cursor: 'pointer', backgroundColor: \"var(--button-background-color)\", width: \"auto\", height: \"90%\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", textAlign: \"center\", fontSize: \"12px\", gap: \"10px\", padding: \"0 10px\", borderRadius: \"8px\", fontWeight: \"600\", color: \"var(--button-text-color)\" }}\r\n            >\r\n                Find Rides<FontAwesomeIcon icon={faBell} style={{ fill: \"red\", stroke: \"red\", color: \"red\" }} />\r\n            </div>\r\n            <div title=\"User Profile\" tabIndex={0} onKeyDown={handleKeyPress} onClick={() => { handleProfileView() }} className={styles.userIcon}>\r\n                <FontAwesomeIcon icon={faUser} style={{ color: 'var(--background-color)' }} size=\"lg\" />\r\n            </div>\r\n            <div className={styles.profileContainer} data-userclick=\"false\" ref={profileRef}>\r\n                <div className={styles.profileContent}>\r\n                    <p style={{ fontSize: \"12px\" }}>Hello , {data.fullname.firstname}</p>\r\n                    <div className={styles.line}></div>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                        <label htmlFor=\"themeSelect\" style={{ fontSize: \"12px\" }}>Theme</label>\r\n                        <select id=\"themeSelect\" name=\"themeSelect\" className={styles.themeSelect} value={currentTheme} onChange={(e) => changeTheme(e.target.value)}>\r\n                            {\r\n                                AvaliableThemes.map((theme, index) => <option key={index} value={theme}>{theme}</option>)\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                    <button className={styles.popupbutton} type=\"button\" onClick={() => { navigate('/captains/logout'); setlogout(!logout) }} disabled={logout} >Logout</button>\r\n                    {/* <Button type=\"button\" onClick={()=>{navigate('/users/logout')}}>Logout</Button> */}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ZyloDriveCaptainHeader","import React, { useEffect, useState } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst containerStyle = {\r\n    width: '100%',\r\n    height: '100%'\r\n};\r\n\r\nconst indiaCenter = {\r\n    lat: 20.5937,\r\n    lng: 78.9629\r\n};\r\n\r\nconst isLocationInIndia = (lat, lng) => {\r\n    // Rough bounding box for India\r\n    const indiaBounds = {\r\n        north: 37.6,\r\n        south: 6.7,\r\n        west: 68.7,\r\n        east: 97.25\r\n    };\r\n    return lat >= indiaBounds.south && lat <= indiaBounds.north && lng >= indiaBounds.west && lng <= indiaBounds.east;\r\n};\r\n\r\nconst LiveTracking = () => {\r\n    const [center, setCenter] = useState(indiaCenter);\r\n    const [userLocation, setUserLocation] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const updateLocation = () => {\r\n            if (navigator.geolocation) {\r\n                navigator.geolocation.getCurrentPosition(\r\n                    (position) => {\r\n                        const { latitude, longitude } = position.coords;\r\n                        if (isLocationInIndia(latitude, longitude)) {\r\n                            setCenter({ lat: latitude, lng: longitude });\r\n                            setUserLocation({ lat: latitude, lng: longitude });\r\n                        }\r\n                    },\r\n                    (error) => {\r\n                        console.error(\"Error getting user's location:\", error);\r\n                    }\r\n                );\r\n            }\r\n        };\r\n\r\n        // Initial location update\r\n        updateLocation();\r\n\r\n        // Update location every 10 seconds\r\n        const intervalId = setInterval(updateLocation, 10000);\r\n\r\n        // Clean up interval on component unmount\r\n        return () => clearInterval(intervalId);\r\n    }, []);\r\n\r\n    return (\r\n        <LoadScript googleMapsApiKey={process.env.REACT_APP_MAP_KEY}>\r\n            <GoogleMap\r\n                mapContainerStyle={containerStyle}\r\n                center={center}\r\n                zoom={10}\r\n            >\r\n                {userLocation && <Marker position={userLocation} />}\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    );\r\n}\r\n\r\nexport default LiveTracking;","// extracted by mini-css-extract-plugin\nexport default {\"buttonWrapper\":\"zr69Ky4MwXAl2OyUo0Bm\",\"customButton\":\"hPF7HRfQ5XbXiRO317jI\"};","import styles from './button.module.scss'\r\nconst Button = (props) =>{\r\n    const { type,children , ...rest} = props\r\n    return (\r\n        <div className={`${styles.buttonWrapper}`}>\r\n            <button className={styles.customButton} type={type} {...rest}>\r\n                {children}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\nexport default Button;","const Logo = () => (\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Uploaded to svgrepo.com\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n    width=\"40px\"\r\n    height=\"40px\"\r\n    viewBox=\"0 0 32 32\"\r\n    xmlSpace=\"preserve\"\r\n  >\r\n    <style type=\"text/css\">\r\n      {`\r\n        .afiado_een { fill: #0B1719; }\r\n      `}\r\n    </style>\r\n    <path\r\n      className=\"afiado_een\"\r\n      d=\"M24,12V4H8v8H4v12h4v4h4v-4h8v4h4v-4h4V12H24z M12,20H8v-4h4V20z M12,12V8h8v4H12z M24,20h-4v-4h4V20z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default Logo;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"modal-overlay\":\"UqG907wlakD88PfsOwvn\",\"modal-content\":\"hQ2SFRp_XBxI1ZPxjEda\",\"modal-item\":\"hKXZdbTllimkaOC6JTdo\",\"userIcon\":\"AQ_slyDmVhqGQ6FnqC8n\",\"pulseContainer\":\"EnPvn1x6xWfFKGVTT0Av\",\"pulseDots\":\"xapJTU4lDHGTzZKLLgVd\",\"pulseDot\":\"x4qYDhRf1xAEn4HL5KLH\",\"pulse\":\"oXfSzecplSQ3LRBIBggt\"};","import React, { useContext, useEffect, useState } from 'react';\r\nimport style from './Modal.module.scss';\r\nimport styles from \"../RideLookout/RideLookout.module.scss\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBox, faClose, faHome, faLocation, faLocationDot } from '@fortawesome/free-solid-svg-icons';\r\nimport Button from '../button/button';\r\nimport { CaptainContext } from '../../Context/CaptainContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Modal = ({ isOpen, onClose, data, closeOnOverlayClick = false, ignoreData }) => {\r\n    const navigate = useNavigate()\r\n    const [rideData, setrideData] = useState([])\r\n    const { captaindata } = useContext(CaptainContext);\r\n    const [disabled, setisDisabled] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setrideData(data)\r\n    }, [data])\r\n\r\n    if (!isOpen) return null;\r\n\r\n\r\n    const handleOverlayClick = () => {\r\n        if (closeOnOverlayClick) {\r\n\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const handleIgnoreItem = (id) => {\r\n        if (rideData.length == 1) {\r\n            ignoreData(id);\r\n            onClose();\r\n        }\r\n        else {\r\n            ignoreData(id);\r\n        }\r\n\r\n    }\r\n\r\n    const handleRideAccept = async (id) => {\r\n        setisDisabled(true)\r\n        const result = await fetch(`${process.env.REACT_APP_API_URL}/rides/confirm`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json', // Add this line\r\n                Authorization: `Bearer ${sessionStorage.getItem('zylotoken')}`,\r\n            },\r\n            body: JSON.stringify({ rideId: id, captainId: captaindata._id })\r\n        })\r\n        const response = await result.json();\r\n        onClose();\r\n        ignoreData(id);\r\n        setisDisabled(false);\r\n        navigate('/captain-home/confirm-Ride', { state: { data: response } })\r\n        console.log(response);\r\n    }\r\n\r\n    return (\r\n        <div className={style['modal-overlay']} onClick={handleOverlayClick}>\r\n            <div className={style['modal-content']} onClick={(e) => e.stopPropagation()}>\r\n                <div style={{ display: \"flex\", justifyContent: \"end\" }}><FontAwesomeIcon title='Close Popup' tabIndex={0} style={{ height: \"16px\", width: \"16px\" }} icon={faClose} onClick={onClose} /></div>\r\n                {rideData.length > 0 ? data.map((item, index) => (\r\n                    <div key={index} className={style['modal-item']}>\r\n                        <div>\r\n                            <div className={style.userIcon}>\r\n                                <h4>\r\n                                    {item.user.fullname.firstname}\r\n                                </h4>\r\n                                <h4>2.2km</h4>\r\n                            </div>\r\n                            <div className={styles.ridelocationdetials}>\r\n                                <FontAwesomeIcon icon={faLocationDot} style={{ color: \"var(--text-color)\" }} />\r\n                                <h5>{item?.pickup}</h5>\r\n                            </div>\r\n                            <div className={styles.RideLookupline}>\r\n                            </div>\r\n                            <div className={styles.ridelocationdetials}>\r\n                                <FontAwesomeIcon icon={faBox} style={{ color: \"var(--text-color)\" }} />\r\n                                <h5>{item?.destination}</h5>\r\n                            </div>\r\n                            <div className={styles.RideLookupline}></div>\r\n\r\n                            <div className={styles.ridelocationdetials} >\r\n                                <h5>{`\\u20B9 ${item.fare}`}</h5>\r\n                            </div>\r\n                            <Button style={{ backgroundColor: \"Green\" }} onClick={() => handleRideAccept(item._id)} disabled={disabled}>{disabled ? \"Accepting..\" : \"Accept\"}</Button>\r\n                            <Button style={{ backgroundColor: \"Red\" }} onClick={() => handleIgnoreItem(item._id)} > Ignore</Button>\r\n                        </div>\r\n                    </div>\r\n                )) :\r\n                    <div className={style.pulseContainer}>\r\n                        <span>Looking For Rides</span>\r\n                        <div className={style.pulseDots}>\r\n                            <div className={style.pulseDot}></div>\r\n                            <div className={style.pulseDot}></div>\r\n                            <div className={style.pulseDot}></div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Modal;\r\n","import { Outlet, Route, Routes, useNavigate } from \"react-router-dom\";\r\nimport styles from \"./CaptainHome.module.scss\";\r\nimport { lazy, Suspense, useContext, useEffect, useRef, useState } from \"react\";\r\nimport ZyloDriveCaptainHeader from \"../../components/CaptainHeader/CaptainHeader\";\r\nimport { CaptainContext } from \"../../Context/CaptainContext\";\r\nimport { SocketContext } from \"../../Context/SocketContext\";\r\nimport Modal from \"../../components/Modal/Modal\";\r\nimport LiveTracking from \"../../components/LiveTracking/LiveTracking\";\r\n\r\n\r\nconst CaptainOverallSummary = lazy(() => import('../../components/CaptainOverallSummary/CaptainOverallSummary'));\r\nconst CaptainRideConfirm = lazy(()=> import('../../components/CaptainRideConfirm/CaptainRideConfirm'));\r\n\r\nconst UserHome = () => {\r\n    const navigate = useNavigate();\r\n    const userWrapperRef = useRef(null);\r\n    const { captaindata: data } = useContext(CaptainContext);\r\n    const { socket, sendMessage, recieveMessage } = useContext(SocketContext);\r\n    const [newRides, setNewRides] = useState([]);\r\n    const [openModal, setOpenModal] = useState(false);\r\n\r\n    // code to fetch captains location \r\n\r\n    const updateLocation = () => {\r\n        console.log('updating location');\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition((position) => {\r\n                sendMessage('update-location-captain',\r\n                    {\r\n                        userId: data._id,\r\n                        location: {\r\n                            ltd: position.coords.latitude,\r\n                            lng: position.coords.longitude\r\n                        }\r\n                    }\r\n                );\r\n            }, (error) => {\r\n                console.log(error);\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        console.log('dataaa', data)\r\n        sendMessage(\"join\", { userType: \"captain\", userId: data._id });\r\n\r\n        // Set up the interval to update location every 10 seconds\r\n        const interval = setInterval(() => {\r\n            updateLocation();\r\n        }, 10000);\r\n        // Initial location update\r\n        updateLocation();\r\n\r\n        const handleNewRide = (data) => {\r\n            console.log(\"newRide\", data);\r\n            setNewRides((prev) => [...prev, data]);\r\n        };\r\n\r\n        socket.on('new-ride', handleNewRide)\r\n\r\n        // Clean up the interval on component unmount\r\n        return () => {\r\n\r\n        clearInterval(interval);\r\n        socket.off('new-ride', handleNewRide);\r\n        }\r\n\r\n    }, [])\r\n\r\n    const ignoredData = (id) => {\r\n        setNewRides((prev) => prev.filter(ride => ride._id !== id));\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className={styles.CaptainHomeWrapper}>\r\n            <ZyloDriveCaptainHeader setOpenModal={setOpenModal} />\r\n            <Modal\r\n                isOpen={openModal}\r\n                onClose={() => { setOpenModal(false)}}\r\n                ignoreData={ignoredData}\r\n                data={newRides || []}\r\n                closeOnOverlayClick={false}\r\n            />\r\n            <div className={styles.CaptainMainWrapper}>\r\n                <div className={styles.CaptainMapWrapper} >\r\n                    <LiveTracking/>\r\n                </div>\r\n                <Suspense fallback={<>Loading subComponents....</>}>\r\n                    <Routes>\r\n                        <Route path=\"/\" element={<CaptainOverallSummary />} />\r\n                        <Route path=\"/confirm-Ride\" element={<CaptainRideConfirm/>}/>\r\n                    </Routes>\r\n                </Suspense>\r\n                <Outlet />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserHome;","// extracted by mini-css-extract-plugin\nexport default {\"zyloDriveheader\":\"x006tMQKCbzmwMzioWq0\",\"userIcon\":\"bXMAK1LMERpEQ4ImGY7S\",\"profileContainer\":\"hVHgWjXNUJVg0Zk_FA2n\",\"profileContent\":\"XSSX1bBJIDeEY8FJgIt3\",\"line\":\"iEJ_Uuz1GPzRrlkrdDMq\",\"themeSelect\":\"u2e_I8A_8_JOo7gNpdNs\",\"popupbutton\":\"ACFv7YrQZVbus4_k40LF\"};","// extracted by mini-css-extract-plugin\nexport default {\"RideLookupComponentWrapper\":\"x4C3LaQrpBX8OT7Az2_Q\",\"RideLookupLoading\":\"kwYq5mbVmpTo4k_18pwO\",\"loading\":\"oyFhbS2vuRRWTamj2boU\",\"RideLookupVehicleLoading\":\"FxyMBQhip_gUxIe8Cuql\",\"pulse\":\"BjdnhFedcd2HsFO7q9dh\",\"RideLookupline\":\"NZT54oimBP_70xzlfhQL\",\"ridelocationdetials\":\"LRNNaqs98sFl4o0W6i7r\"};","// extracted by mini-css-extract-plugin\nexport default {\"CaptainHomeWrapper\":\"nuYJS7N9UkEQgX3FO4zj\",\"CaptainMainWrapper\":\"CAt1L1vkSpP4j5F6qRA4\",\"CaptainMapWrapper\":\"FH0tNgIHDcR2k5O9e0Co\",\"UserLocationWrapper\":\"MD4A6fSJ1KVbSEqc1zj0\"};"],"names":["props","navigate","useNavigate","profileRef","useRef","logout","setlogout","useState","captaindata","data","useContext","CaptainContext","currentTheme","changeTheme","AvaliableThemes","ThemeContext","isCaptainHome","location","pathname","handleProfileView","current","isActive","getAttribute","setAttribute","handleClickOutside","event","contains","target","useEffect","document","addEventListener","removeEventListener","_jsxs","className","styles","zyloDriveheader","children","style","cursor","onClick","_jsx","Logo","title","setOpenModal","tabIndex","backgroundColor","width","height","display","alignItems","justifyContent","textAlign","fontSize","gap","padding","borderRadius","fontWeight","color","FontAwesomeIcon","icon","faBell","fill","stroke","onKeyDown","key","userIcon","faUser","size","profileContainer","ref","profileContent","fullname","firstname","line","htmlFor","id","name","themeSelect","value","onChange","e","map","theme","index","popupbutton","type","disabled","containerStyle","indiaCenter","lat","lng","LiveTracking","center","setCenter","userLocation","setUserLocation","updateLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","isLocationInIndia","error","intervalId","setInterval","clearInterval","LoadScript","googleMapsApiKey","process","GoogleMap","mapContainerStyle","zoom","Marker","rest","version","xmlns","xmlnsXlink","viewBox","xmlSpace","d","_ref","isOpen","onClose","closeOnOverlayClick","ignoreData","rideData","setrideData","setisDisabled","handleOverlayClick","stopPropagation","faClose","length","item","user","ridelocationdetials","faLocationDot","pickup","RideLookupline","faBox","destination","fare","Button","async","result","fetch","method","headers","Authorization","sessionStorage","getItem","body","JSON","stringify","rideId","captainId","_id","response","json","state","handleRideAccept","handleIgnoreItem","CaptainOverallSummary","lazy","CaptainRideConfirm","UserHome","socket","sendMessage","recieveMessage","SocketContext","newRides","setNewRides","openModal","userId","ltd","userType","interval","handleNewRide","prev","on","off","CaptainHomeWrapper","ZyloDriveCaptainHeader","Modal","filter","ride","CaptainMainWrapper","CaptainMapWrapper","Suspense","fallback","_Fragment","Routes","Route","path","element","Outlet"],"sourceRoot":""}