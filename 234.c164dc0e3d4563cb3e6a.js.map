{"version":3,"file":"234.c164dc0e3d4563cb3e6a.js","mappings":"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","sources":["webpack://frontend/./src/components/UserRideConfirmation/UserRideConfirmation.jsx","webpack://frontend/./src/components/button/button.module.scss?cc99","webpack://frontend/./src/components/button/button.jsx","webpack://frontend/./src/components/RideLookout/RideLookout.module.scss?9ef6"],"sourcesContent":["import { forwardRef, useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport carimg from \"../../assets/ZyloCar.png\";\r\nimport autoimg from \"../../assets/Zylo-Auto.png\";\r\nimport bikeimg from \"../../assets/Zylo-bike.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBox, faCashRegister, faLocationDot } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Button from \"../button/button\";\r\nimport styles from \"../RideLookout/RideLookout.module.scss\";\r\n\r\nconst UserRideConfirmation = forwardRef(({ }, ref) => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { state } = location;\r\n    const { vehicle: selectedVehicle, location:selectedLocation , fare } = state || {};\r\n    const [userWrapperRef] = ref;\r\n    const [loading, setLoading] = useState(true)\r\n    const [rideCreating , setRideCreating] = useState(false)\r\n\r\n    useEffect(() => {\r\n\r\n        console.log('location', state)\r\n        if (!selectedVehicle && !selectedLocation?.pickup && !selectedLocation?.destination) {\r\n            navigate(\"/home\")\r\n        }\r\n        setLoading(false)\r\n\r\n    }, [selectedVehicle, selectedLocation])\r\n\r\n\r\n    useEffect(() => {\r\n        if (userWrapperRef) {\r\n            userWrapperRef.current.style.bottom = \"0\";\r\n            userWrapperRef.current.style.height = \"100%\";\r\n        }\r\n    }, [])\r\n\r\n\r\n    const handleRideCreation = async() => {\r\n        setRideCreating(true)\r\n        try{\r\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/rides/create`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${sessionStorage.getItem('zylotoken')}`\r\n                },\r\n                body: JSON.stringify({\r\n                    vehicleType: selectedVehicle,\r\n                    pickup:selectedLocation.pickup,\r\n                    destination:selectedLocation.destination\r\n                })\r\n            })\r\n    \r\n            if (!response.ok) {\r\n                // Handle HTTP errors\r\n                const errorData = await response.json();\r\n                throw new Error(`Error ${response.status}: ${errorData.message || response.statusText}`);\r\n            } \r\n            else{\r\n                const data = await response.json()\r\n                console.log(data)\r\n                navigate(\"/home/ridelookout\", {state:{vehicle:selectedVehicle, location:selectedLocation , data}})\r\n            }\r\n        }\r\n        catch(error){\r\n            console.log(error)\r\n        }finally{\r\n            setRideCreating(false)\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {loading ?\r\n                <>Checking Conditions</> :\r\n                <div className={styles.RideLookupComponentWrapper}>\r\n                    <h3 style={{ padding: \"10px 10px 10px 10px\", textAlign: \"center\" }}>Confirm {selectedVehicle} Ride ? </h3>\r\n                    <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n                        {selectedVehicle==\"car\" && <img loading=\"lazy\" className={styles.RideLookupVehicleLoading} src={carimg} alt=\"Car\" />}\r\n                        {selectedVehicle==\"auto\" && <img loading=\"lazy\" className={styles.RideLookupVehicleLoading} src={autoimg} alt=\"Auto\" />}\r\n                        {selectedVehicle==\"motorcycle\" && <img loading=\"lazy\" className={styles.RideLookupVehicleLoading} src={bikeimg} alt=\"Bike\" />}\r\n                    </div>\r\n                    <div className={styles.RideLookupline}>\r\n                    </div>\r\n                    <div className={styles.ridelocationdetials}>\r\n                        <FontAwesomeIcon icon={faLocationDot} style={{ color: \"var(--text-color)\" }} />\r\n                        <h5>{selectedLocation?.pickup}</h5>\r\n                    </div>\r\n                    <div className={styles.RideLookupline}>\r\n                    </div>\r\n                    <div className={styles.ridelocationdetials}>\r\n                        <FontAwesomeIcon icon={faBox} style={{ color: \"var(--text-color)\" }} />\r\n                        <h5>{selectedLocation?.destination}</h5>\r\n                    </div>\r\n                    <div className={styles.RideLookupline}>\r\n                    </div>\r\n                    <div className={styles.ridelocationdetials}>\r\n                        <FontAwesomeIcon icon={faCashRegister} style={{ color: \"var(--text-color)\" }} />\r\n                        <h5>{`\\u20B9 ${fare}`}</h5>\r\n                    </div>\r\n                    <Button type=\"submit\" disabled={rideCreating} onClick={()=>{handleRideCreation()}}>{rideCreating ? \"Creating Ride ...\" :\"Confirm Booking\"}</Button>\r\n                </div>\r\n            }\r\n\r\n        </>\r\n    )\r\n})\r\nexport default UserRideConfirmation","// extracted by mini-css-extract-plugin\nexport default {\"buttonWrapper\":\"zr69Ky4MwXAl2OyUo0Bm\",\"customButton\":\"hPF7HRfQ5XbXiRO317jI\"};","import styles from './button.module.scss'\r\nconst Button = (props) =>{\r\n    const { type,children , ...rest} = props\r\n    return (\r\n        <div className={`${styles.buttonWrapper}`}>\r\n            <button className={styles.customButton} type={type} {...rest}>\r\n                {children}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\nexport default Button;","// extracted by mini-css-extract-plugin\nexport default {\"RideLookupComponentWrapper\":\"x4C3LaQrpBX8OT7Az2_Q\",\"RideLookupLoading\":\"kwYq5mbVmpTo4k_18pwO\",\"loading\":\"oyFhbS2vuRRWTamj2boU\",\"RideLookupVehicleLoading\":\"FxyMBQhip_gUxIe8Cuql\",\"pulse\":\"BjdnhFedcd2HsFO7q9dh\",\"RideLookupline\":\"NZT54oimBP_70xzlfhQL\",\"ridelocationdetials\":\"LRNNaqs98sFl4o0W6i7r\"};"],"names":["forwardRef","_ref","ref","location","useLocation","navigate","useNavigate","state","vehicle","selectedVehicle","selectedLocation","fare","userWrapperRef","loading","setLoading","useState","rideCreating","setRideCreating","useEffect","pickup","destination","current","style","bottom","height","_jsx","_Fragment","children","_jsxs","className","styles","RideLookupComponentWrapper","padding","textAlign","display","alignItems","justifyContent","RideLookupVehicleLoading","src","carimg","alt","autoimg","bikeimg","RideLookupline","ridelocationdetials","FontAwesomeIcon","icon","faLocationDot","color","faBox","faCashRegister","Button","type","disabled","onClick","async","response","fetch","method","headers","sessionStorage","getItem","body","JSON","stringify","vehicleType","ok","errorData","json","Error","status","message","statusText","data","error","handleRideCreation","props","rest"],"sourceRoot":""}