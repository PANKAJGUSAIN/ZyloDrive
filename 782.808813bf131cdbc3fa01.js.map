{"version":3,"file":"782.808813bf131cdbc3fa01.js","mappings":"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","sources":["webpack://frontend/./src/components/CaptainRideConfirm/CaptainRideConfirm.jsx","webpack://frontend/./src/pages/UserLogin/UserLogin.module.scss?0797"],"sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { forwardRef, useContext, useEffect, useRef, useState } from \"react\"\r\nimport { CaptainContext } from \"../../Context/CaptainContext\"\r\nimport styles from \"../../pages/CaptainHome/CaptainHome.module.scss\"\r\nimport style from \"../RideLookout/RideLookout.module.scss\"\r\nimport inputstyles from '../../pages/UserLogin/UserLogin.module.scss'\r\nimport { useLocation, useNavigate } from \"react-router-dom\"\r\nimport { faBox, faCashRegister, faLocationDot, faWarning } from \"@fortawesome/free-solid-svg-icons\"\r\nimport Button from \"../button/button\"\r\n\r\nconst CaptainRideConfirm = forwardRef(({ }, ref) => {\r\n\r\n    const { captaindata: data } = useContext(CaptainContext);\r\n    const navigate = useNavigate();\r\n    const userWrapperRef = useRef(null)\r\n    const arrowref = useRef(null);\r\n    const optref = useRef(null);\r\n    const location = useLocation();\r\n    const { data: responseData } = location.state || {};\r\n    const [enteredOtp, setenteredOtp] = useState('')\r\n    const [errors , seterrors] = useState('')\r\n    const [isAccept , setisAccept] = useState(false)\r\n    console.log(\"response\", responseData);\r\n\r\n    useEffect(() => {\r\n        if (!responseData) {\r\n            navigate('/captain-home')\r\n        }\r\n    }, [responseData])\r\n\r\n\r\n\r\n    const toggleIsMaxed = () => {\r\n        if (arrowref.current) {\r\n            console.log('here')\r\n            const ismaxed = arrowref.current.dataset.ismaxed === 'true';\r\n            arrowref.current.dataset.ismaxed = ismaxed ? 'false' : 'true';\r\n            userWrapperRef.current.style.height = ismaxed ? \"5%\" : \"100%\";\r\n        }\r\n    };\r\n\r\n    const handleOTPconfirmation = async(e) =>{\r\n        e.preventDefault();\r\n        if(!enteredOtp || enteredOtp.length > 6 || enteredOtp.length < 6 ){\r\n            optref.current.focus();\r\n            seterrors('Invalid OTP!');\r\n        }     \r\n        else{\r\n            seterrors('');\r\n            setisAccept(true);\r\n            const result = await fetch(`${process.env.REACT_APP_API_URL}/rides/start-ride?rideId=${responseData._id}&otp=${enteredOtp}`,{\r\n                method:'GET',\r\n                headers:{\r\n                    Authorization:`Bearer ${sessionStorage.getItem('zylotoken')}`\r\n                }\r\n            })\r\n            if (!result.ok) {\r\n                // Handle HTTP errors\r\n                if (result.status === 400) {\r\n                    const response = await result.json();\r\n                    seterrors(response.message);\r\n                    setisAccept(false);\r\n                } else if (result.status === 500) {\r\n                    const response = await result.json();\r\n                    seterrors(response.message);\r\n                    setisAccept(false);\r\n                } else {\r\n                    console.error(`Error: ${result.status}`);\r\n                    seterrors(`Error: ${result.status}`);\r\n                    setisAccept(false);\r\n                }\r\n            } else {\r\n                const response = await result.json();\r\n                console.log(response);\r\n                navigate('/captains/riding',{state:{data:response}})\r\n                setisAccept(false);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <div ref={userWrapperRef} style={{ minHeight: \"25%\" , overflow:'auto'}} className={styles.UserLocationWrapper}>\r\n                <div style={{ padding: \"2px\" }}>\r\n                    <div title=\"expand\" data-ismaxed=\"false\" ref={arrowref} tabIndex={0} role=\"move-up\" style={{ cursor: \"pointer\", height: \"5px\", width: \"20%\", position: \"absolute\", left: \"40%\", background: \"var(--item-border-hover-color)\", borderRadius: \"2px\" }} onClick={toggleIsMaxed}></div>\r\n                    <div style={{ display: 'flex', alignItems: \"center\", gap: \"10px\", padding: \"10px\", justifyContent: \"space-between\" }}>\r\n                        <div style={{ display: \"flex\", gap: \"10px\", alignItems: \"center\" }}>\r\n                            <img src=\"https://cdn-icons-png.flaticon.com/512/3135/3135715.png\" alt=\"captain\" style={{ width: \"50px\", height: \"50px\", borderRadius: \"50%\" }} />\r\n                            <h3>{responseData?.user.fullname?.firstname + \" \" + responseData?.user.fullname?.lastname}</h3>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ width: \"100%\", height: \"auto\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-evenly\", gap: \"5px\", flexWrap: \"wrap\", borderRadius: \"8px\" }}>\r\n                        <div style={{ width: \"100%\" }} className={style.ridelocationdetials}>\r\n                            <FontAwesomeIcon icon={faLocationDot} style={{ color: \"var(--text-color)\" }} />\r\n                            <h5>{responseData?.pickup}</h5>\r\n                        </div>\r\n                        <div style={{ width: \"100%\" }} className={style.RideLookupline}>\r\n                        </div>\r\n                        <div style={{ width: \"100%\" }} className={style.ridelocationdetials}>\r\n                            <FontAwesomeIcon icon={faBox} style={{ color: \"var(--text-color)\" }} />\r\n                            <h5>{responseData?.destination}</h5>\r\n                        </div>\r\n                        <div className={style.RideLookupline}>\r\n                        </div>\r\n                        <div style={{ width: \"100%\" }} className={style.ridelocationdetials}>\r\n                            <FontAwesomeIcon icon={faCashRegister} style={{ color: \"var(--text-color)\" }} />\r\n                            <h5>{`\\u20B9${responseData?.fare}`}</h5>\r\n                        </div>\r\n                        <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", marginTop: \"10px\" }}>\r\n                            <form style={{ width: \"100%\" }} noValidate>\r\n                                <div className={inputstyles.inputfieldContainer}>\r\n                                {errors.length>0 ? <p style={{fontSize:\"14px\" , color:\"red\" , fontWeight:\"700\"}}><FontAwesomeIcon  icon={faWarning} color=\"red\" style={{marginRight:\"10px\"}} />{errors}</p> :\"\"}\r\n                                    <label htmlFor=\"zyloDriverotpconfirmation\">\r\n                                        <input id=\"zyloDriverotpconfirmation\"\r\n                                            data-name=\"confirmotp\"\r\n                                            name=\"confirmotp\"\r\n                                            ref={optref}\r\n                                            className={inputstyles.inputfield}\r\n                                            value={enteredOtp}\r\n                                            onChange={(e) => setenteredOtp(e.target.value)}\r\n                                            style={ errors.length>0 ? { \"border\": \"2px solid red\" } : {}}\r\n                                            placeholder=\"Enter OTP\"\r\n                                            maxLength=\"6\"\r\n                                            pattern=\"\\d{6}\"\r\n                                            type=\"text\" required />\r\n                                    </label>\r\n                                </div>\r\n                                <Button type=\"submit\" disabled={isAccept} style={{ backgroundColor: \"Green\" }} onClick={handleOTPconfirmation}>{isAccept? \"Confirming..\" :\"Confirm\"}</Button>\r\n                                <Button type=\"button\" style={{ backgroundColor: \"Red\" }} onClick={()=>navigate('/captain-home')}>Reject</Button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n})\r\nexport default CaptainRideConfirm","// extracted by mini-css-extract-plugin\nexport default {\"UserLoginwrapper\":\"Ilr2sDTxcX6iN4oEhfPK\",\"loginForm\":\"FGp0hyWKrGXQiF1JdGTG\",\"inputfieldContainer\":\"qEfPOULVv1zTG4_yyTrB\",\"multipleinputfieldwrapper\":\"T1n6SAbD7e3LJN_6FbwE\",\"inputfieldLabelContainer\":\"qAEQVS1yl72RbrDYtolZ\",\"inputfield\":\"VU3diMWWYxG9wxC3MHwJ\",\"loginImage\":\"yUXAZUQPDsuF2Xn1SrWa\",\"loginSvg\":\"ATp0h_XKuxATbVGYlvng\",\"UsernotAvaliable\":\"JVuatc6KXxZoAhdbbzWf\",\"separatorcontent\":\"hWVJsyUh6XPGoRTTFMnn\",\"inputfielderror\":\"WG7qDk4pKxv8osuQAPDB\"};"],"names":["forwardRef","_ref","ref","captaindata","data","useContext","CaptainContext","navigate","useNavigate","userWrapperRef","useRef","arrowref","optref","location","useLocation","responseData","state","enteredOtp","setenteredOtp","useState","errors","seterrors","isAccept","setisAccept","useEffect","_jsx","_Fragment","children","style","minHeight","overflow","className","styles","UserLocationWrapper","_jsxs","padding","title","tabIndex","role","cursor","height","width","position","left","background","borderRadius","onClick","toggleIsMaxed","current","ismaxed","dataset","display","alignItems","gap","justifyContent","src","alt","user","fullname","firstname","lastname","flexWrap","ridelocationdetials","FontAwesomeIcon","icon","faLocationDot","color","pickup","RideLookupline","faBox","destination","faCashRegister","fare","marginTop","noValidate","inputstyles","inputfieldContainer","length","fontSize","fontWeight","faWarning","marginRight","htmlFor","id","name","inputfield","value","onChange","e","target","placeholder","maxLength","pattern","type","required","Button","disabled","backgroundColor","async","preventDefault","focus","result","fetch","_id","method","headers","Authorization","sessionStorage","getItem","ok","response","json","status","message"],"sourceRoot":""}